services:
  main:
    in:
      type: map
      map:
        a:
          type: stream
          stream:
            type: generic
            generic: itemType
        b:
          type: stream
          stream:
            type: generic
            generic: itemType
    out:
      type: stream
      stream:
        type: generic
        generic: itemType
operators:
  cfalse:
    operator: slang.const
    properties:
      value: false
    generics:
      valueType:
        type: boolean
  taker:
    operator: slang.take
    generics:
      itemType:
        type: generic
        generic: itemType
connections:
  a(:
  - false(taker
  b(:
  - true(taker
  cfalse):
  - ~(taker.compare
  taker):
  - )
  taker.compare)~.true:
  - (cfalse
