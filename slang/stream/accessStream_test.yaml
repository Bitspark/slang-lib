# Stream length test
---
operatorFile: accessStream.yaml
testCases:
- name: Simple
  generics:
    keyType:
      type: string
    valueType:
      type: number
  data:
    in:
    - {key: "a", stream: [{key: "a", value: 1}]}
    - {key: "a", stream: [{key: "b", value: 1}]}
    out:
    - [1]
    - []
- name: Stream
  generics:
    keyType:
      type: string
    valueType:
      type: stream
      stream:
        type: number
  properties:
    default: []
  data:
    in:
    - {key: "a", stream: [{key: "b", value: [1]}]}
    - {key: "a", stream: []}
    out:
    - []
    - []
- name: Stream of streams
  generics:
    keyType:
      type: string
    valueType:
      type: stream
      stream:
        type: stream
        stream:
          type: number
  properties:
    default: []
  data:
    in:
    - {key: "a", stream: [{key: "b", value: []}]}
    - {key: "a", stream: []}
    - {key: "a", stream: []}
    - {key: "a", stream: [{key: "b", value: []}]}
    - {key: "a", stream: [{key: "b", value: [1]}]}
    - {key: "a", stream: [{key: "a", value: [1]}, {key: "b", value: []}, {key: "a", value: [2,3]}]}
    out:
    - []
    - []
    - []
    - []
    - []
    - [[1],[2,3]]
